import{r as A,R as O}from"./index.B52nOzfP.js";var H={exports:{}},C={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V=A,W=Symbol.for("react.element"),q=Symbol.for("react.fragment"),K=Object.prototype.hasOwnProperty,G=V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y={key:!0,ref:!0,__self:!0,__source:!0};function F(t,s,i){var o,r={},a=null,l=null;i!==void 0&&(a=""+i),s.key!==void 0&&(a=""+s.key),s.ref!==void 0&&(l=s.ref);for(o in s)K.call(s,o)&&!Y.hasOwnProperty(o)&&(r[o]=s[o]);if(t&&t.defaultProps)for(o in s=t.defaultProps,s)r[o]===void 0&&(r[o]=s[o]);return{$$typeof:W,type:t,key:a,ref:l,props:r,_owner:G.current}}C.Fragment=q;C.jsx=F;C.jsxs=F;H.exports=C;var e=H.exports;const B=t=>{let s;const i=new Set,o=(d,f)=>{const p=typeof d=="function"?d(s):d;if(!Object.is(p,s)){const y=s;s=f??(typeof p!="object"||p===null)?p:Object.assign({},s,p),i.forEach(v=>v(s,y))}},r=()=>s,n={setState:o,getState:r,getInitialState:()=>c,subscribe:d=>(i.add(d),()=>i.delete(d))},c=s=t(o,r,n);return n},J=t=>t?B(t):B,Q=t=>t;function X(t,s=Q){const i=O.useSyncExternalStore(t.subscribe,O.useCallback(()=>s(t.getState()),[t,s]),O.useCallback(()=>s(t.getInitialState()),[t,s]));return O.useDebugValue(i),i}const R=t=>{const s=J(t),i=o=>X(s,o);return Object.assign(i,s),i},Z=t=>t?R(t):R;function ee(t,s){let i;try{i=t()}catch{return}return{getItem:r=>{var a;const l=c=>c===null?null:JSON.parse(c,void 0),n=(a=i.getItem(r))!=null?a:null;return n instanceof Promise?n.then(l):l(n)},setItem:(r,a)=>i.setItem(r,JSON.stringify(a,void 0)),removeItem:r=>i.removeItem(r)}}const L=t=>s=>{try{const i=t(s);return i instanceof Promise?i:{then(o){return L(o)(i)},catch(o){return this}}}catch(i){return{then(o){return this},catch(o){return L(o)(i)}}}},te=(t,s)=>(i,o,r)=>{let a={storage:ee(()=>window.localStorage),partialize:m=>m,version:0,merge:(m,b)=>({...b,...m}),...s},l=!1,n=0;const c=new Set,d=new Set;let f=a.storage;if(!f)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),i(...m)},o,r);const p=()=>{const m=a.partialize({...o()});return f.setItem(a.name,{state:m,version:a.version})},y=r.setState;r.setState=(m,b)=>(y(m,b),p());const v=t((...m)=>(i(...m),p()),o,r);r.getInitialState=()=>v;let h;const k=()=>{var m,b;if(!f)return;const S=++n;l=!1,c.forEach(g=>{var j;return g((j=o())!=null?j:v)});const _=((b=a.onRehydrateStorage)==null?void 0:b.call(a,(m=o())!=null?m:v))||void 0;return L(f.getItem.bind(f))(a.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==a.version){if(a.migrate){const j=a.migrate(g.state,g.version);return j instanceof Promise?j.then(x=>[!0,x]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var j;if(S!==n)return;const[x,E]=g;if(h=a.merge(E,(j=o())!=null?j:v),i(h,!0),x)return p()}).then(()=>{S===n&&(_?.(h,void 0),h=o(),l=!0,d.forEach(g=>g(h)))}).catch(g=>{S===n&&_?.(void 0,g)})};return r.persist={setOptions:m=>{a={...a,...m},m.storage&&(f=m.storage)},clearStorage:()=>{f?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>k(),hasHydrated:()=>l,onHydrate:m=>(c.add(m),()=>{c.delete(m)}),onFinishHydration:m=>(d.add(m),()=>{d.delete(m)})},a.skipHydration||k(),h||v},ie=te,M=[{id:"first_habit",name:"Primer Paso",desc:"Completa tu primer hÃ¡bito",icon:"ðŸ‘£",rarity:"common",check:t=>Object.values(t.history).some(s=>Object.values(s).includes("completed"))},{id:"first_habit_added",name:"El Viaje Comienza",desc:"AÃ±ade tu primer hÃ¡bito",icon:"ðŸŒ±",rarity:"common",check:t=>t.habits.length>=1},{id:"three_habits",name:"Multitarea",desc:"AÃ±ade 3 hÃ¡bitos distintos",icon:"ðŸŽ¯",rarity:"common",check:t=>t.habits.length>=3},{id:"streak_3",name:"Tres en Raya",desc:"Completa un hÃ¡bito 3 dÃ­as seguidos",icon:"ðŸ”¥",rarity:"common",check:t=>t.habits.some(s=>s.streak>=3)},{id:"streak_7",name:"Semana Perfecta",desc:"Completa un hÃ¡bito 7 dÃ­as seguidos",icon:"âš¡",rarity:"rare",check:t=>t.habits.some(s=>s.streak>=7),reward:"shield_of_streak"},{id:"streak_14",name:"Quincena Imparable",desc:"Completa un hÃ¡bito 14 dÃ­as seguidos",icon:"ðŸŒŸ",rarity:"rare",check:t=>t.habits.some(s=>s.streak>=14),reward:"boost_potion"},{id:"streak_30",name:"Mes de Hierro",desc:"Completa un hÃ¡bito 30 dÃ­as seguidos",icon:"ðŸ’Ž",rarity:"epic",check:t=>t.habits.some(s=>s.streak>=30),reward:"double_elixir"},{id:"streak_100",name:"CenturiÃ³n",desc:"Completa un hÃ¡bito 100 dÃ­as seguidos",icon:"ðŸ›ï¸",rarity:"legendary",check:t=>t.habits.some(s=>s.streak>=100),reward:"multiplier_gem"},{id:"all_day",name:"DÃ­a Completo",desc:"Completa todos tus hÃ¡bitos en un mismo dÃ­a",icon:"ðŸŒˆ",rarity:"rare",check:t=>t.habits.length<2?!1:Object.values(t.history).some(s=>t.habits.every(i=>s[i.id]==="completed"))},{id:"all_week",name:"Guerrero Total",desc:"Completa todos tus hÃ¡bitos durante 7 dÃ­as seguidos",icon:"âš”ï¸",rarity:"epic",check:t=>t.globalStreak>=7,reward:"amulet_constancy"},{id:"all_month",name:"Constancia Total",desc:"Completa todos tus hÃ¡bitos durante 30 dÃ­as seguidos",icon:"ðŸ‘‘",rarity:"legendary",check:t=>t.globalStreak>=30,reward:"multiplier_gem"},{id:"mult_2",name:"Engranaje",desc:"Consigue un multiplicador de x2.0 en cualquier hÃ¡bito",icon:"âš™ï¸",rarity:"rare",check:t=>t.habits.some(s=>s.multiplier>=2)},{id:"mult_3",name:"Turbocargado",desc:"Consigue un multiplicador de x3.0 en cualquier hÃ¡bito",icon:"ðŸš€",rarity:"epic",check:t=>t.habits.some(s=>s.multiplier>=3),reward:"boost_potion"},{id:"mult_5",name:"Modo Dios",desc:"Consigue un multiplicador de x5.0 en cualquier hÃ¡bito",icon:"ðŸŒŒ",rarity:"legendary",check:t=>t.habits.some(s=>s.multiplier>=5),reward:"double_elixir"},{id:"level_1",name:"Iniciado",desc:"Alcanza el Nivel 1",icon:"ðŸ¥‰",rarity:"common",check:t=>t.level>=1,reward:"shield_of_streak"},{id:"level_2",name:"Aventurero",desc:"Alcanza el Nivel 2",icon:"ðŸ¥ˆ",rarity:"rare",check:t=>t.level>=2,reward:"time_crystal"},{id:"level_3",name:"Maestro",desc:"Alcanza el Nivel 3",icon:"ðŸ¥‡",rarity:"epic",check:t=>t.level>=3,reward:"double_elixir"},{id:"level_5",name:"Leyenda",desc:"Alcanza el Nivel 5",icon:"ðŸ†",rarity:"legendary",check:t=>t.level>=5,reward:"multiplier_gem"},{id:"collect_5",name:"Coleccionista",desc:"Consigue 5 objetos en tu inventario",icon:"ðŸŽ’",rarity:"rare",check:t=>t.inventory.length>=5},{id:"points_1000",name:"Mil Puntos",desc:"Acumula 1000 puntos en total (histÃ³rico)",icon:"ðŸ’¯",rarity:"common",check:t=>t.lifetimePoints>=1e3},{id:"points_10000",name:"Diez Mil",desc:"Acumula 10,000 puntos en total (histÃ³rico)",icon:"ðŸ’°",rarity:"rare",check:t=>t.lifetimePoints>=1e4}],ne={common:{color:"#a0a0c0",border:"#2a2a4a",label:"COMÃšN"},rare:{color:"#00e5ff",border:"#004466",label:"RARO"},epic:{color:"#b44fff",border:"#330055",label:"Ã‰PICO"},legendary:{color:"#ffd700",border:"#664400",label:"LEGENDARIO"}},w={shield_of_streak:{id:"shield_of_streak",name:"Escudo de Racha",icon:"ðŸ›¡ï¸",rarity:"common",desc:"Protege tu multiplicador de UNA penalizaciÃ³n por fallo. Se consume automÃ¡ticamente.",effectType:"passive",effectKey:"streak_shield",effectValue:1,maxStack:5},boost_potion:{id:"boost_potion",name:"PociÃ³n de Impulso",icon:"âš—ï¸",rarity:"rare",desc:"AÃ±ade +1.0 a TODOS los multiplicadores durante 3 dÃ­as.",effectType:"timed",effectKey:"global_mult_boost",effectValue:1,durationDays:3,maxStack:3},double_elixir:{id:"double_elixir",name:"Elixir del Doble",icon:"âœ¨",rarity:"epic",desc:"Duplica todos los puntos ganados durante 24 horas.",effectType:"timed",effectKey:"double_points",effectValue:2,durationDays:1,maxStack:2},amulet_constancy:{id:"amulet_constancy",name:"Amuleto de Constancia",icon:"ðŸ“¿",rarity:"epic",desc:"En vez de -0.4, los fallos solo penalizan -0.1 al multiplicador durante 7 dÃ­as.",effectType:"timed",effectKey:"reduced_penalty",effectValue:.1,durationDays:7,maxStack:2},time_crystal:{id:"time_crystal",name:"Cristal del Tiempo",icon:"ðŸ”®",rarity:"rare",desc:"Marca retroactivamente un hÃ¡bito como completado ayer (evita la penalizaciÃ³n de ese dÃ­a).",effectType:"instant",effectKey:"retroactive_complete",maxStack:3},recovery_totem:{id:"recovery_totem",name:"TÃ³tem de RecuperaciÃ³n",icon:"ðŸ—¿",rarity:"common",desc:"Recupera +0.4 al multiplicador de un hÃ¡bito concreto al instante.",effectType:"instant",effectKey:"mult_recovery",effectValue:.4,maxStack:5},multiplier_gem:{id:"multiplier_gem",name:"Gema del Multiplicador",icon:"ðŸ’ ",rarity:"legendary",desc:"Aumenta permanentemente el multiplicador BASE de un hÃ¡bito en +0.2.",effectType:"instant",effectKey:"perm_base_mult",effectValue:.2,maxStack:2},golden_streak:{id:"golden_streak",name:"Racha Dorada",icon:"â­",rarity:"rare",desc:"El siguiente fallo NO activa penalizaciÃ³n y ademÃ¡s suma +0.2 al multiplicador como si lo hubieras completado.",effectType:"passive",effectKey:"golden_shield",effectValue:1,maxStack:3},xp_multiplier:{id:"xp_multiplier",name:"Piedra de Poder",icon:"ðŸ”º",rarity:"epic",desc:"Triplica los puntos ganados en el prÃ³ximo hÃ¡bito que completes.",effectType:"passive",effectKey:"next_triple",effectValue:3,maxStack:2}},oe={common:{color:"#a0a0c0",glow:"none",label:"COMÃšN"},rare:{color:"#00e5ff",glow:"0 0 8px #00e5ff66",label:"RARO"},epic:{color:"#b44fff",glow:"0 0 8px #b44fff66",label:"Ã‰PICO"},legendary:{color:"#ffd700",glow:"0 0 12px #ffd70088",label:"LEGENDARIO"}},I=[627,2268,4872,9072,15552,25194,39366,59049];function ae(t,s){const i=I[t]??I[I.length-1]*(t-I.length+2),o=Math.min(100,Math.round(s/i*100));return{threshold:i,pct:o,remaining:i-s}}function N(){return new Date().toISOString().split("T")[0]}function se(){const t=new Date;return t.setDate(t.getDate()-1),t.toISOString().split("T")[0]}function T(t=0){const s=new Date;return s.setDate(s.getDate()-t),s.toISOString().split("T")[0]}function re(t,s){const i=new Date(s+"T12:00:00");return t.periodicity==="daily"?!0:t.periodicity==="weekly"?i.getDay()===1:t.periodicity==="monthly"?i.getDate()===1:!0}function $(t,s=[]){const i=t.minutes*t.multiplier;let o=1;return s.some(r=>r.key==="double_points")&&(o*=2),s.some(r=>r.key==="next_triple")&&(o*=3),Math.round(i*o)}function le(t,s=[]){const i=s.find(r=>r.key==="global_mult_boost"),o=i?i.value:0;return parseFloat((t.multiplier+.2+o).toFixed(1))}function ce(t,s=[]){if(s.some(r=>r.key==="streak_shield"))return t.multiplier;if(s.some(r=>r.key==="golden_shield"))return parseFloat((t.multiplier+.2).toFixed(1));const i=s.find(r=>r.key==="reduced_penalty"),o=i?i.value:.4;return Math.max(1,parseFloat((t.multiplier-o).toFixed(1)))}function de(t,s){if(t.length===0)return 0;let i=0;for(let o=1;o<=365;o++){const r=T(o),a=s[r];if(!a)break;const l=t.filter(c=>re(c,r));if(l.length===0)continue;if(l.every(c=>a[c.id]==="completed"))i++;else break}return i}const U={daily:"Diaria",weekly:"Semanal",monthly:"Mensual"},fe=["ðŸ“š","ðŸƒ","ðŸ’§","ðŸ§˜","ðŸŽ¸","âœï¸","ðŸ¥—","ðŸ˜´","ðŸ§¹","ðŸ’ª","ðŸŽ¯","ðŸ§ ","ðŸŽ¨","ðŸŒ¿","ðŸ‹ï¸"],u=Z(ie((t,s)=>({habits:[],level:0,points:0,lifetimePoints:0,history:{},globalStreak:0,unlockedAchievements:[],inventory:[],activeEffects:[],notifications:[],addHabit(i){t(o=>({habits:[...o.habits,{id:Date.now().toString(),name:i.name,minutes:i.minutes,periodicity:i.periodicity,emoji:i.emoji??"ðŸŽ¯",multiplier:1,baseMultiplier:1,streak:0,createdAt:new Date().toISOString()}]})),s()._checkAchievements()},removeHabit(i){t(o=>({habits:o.habits.filter(r=>r.id!==i)}))},completeHabit(i){const o=s(),r=N(),a=o.habits.find(b=>b.id===i);if(!a||o.history[r]?.[i]==="completed")return;const l=o._getActiveEffects(),n=$(a,l),c=le(a,l),d=o.points+n,f=o.lifetimePoints+n,p=o.activeEffects.filter(b=>b.key!=="next_triple"),y={...o.history,[r]:{...o.history[r]??{},[i]:"completed"}},v=I[o.level]??999999;let h=o.level,k=d,m=null;d>=v&&(h=o.level+1,k=d-v,m=`Â¡NIVEL ${h} ALCANZADO!`),t(b=>({habits:b.habits.map(S=>S.id===i?{...S,multiplier:c,streak:S.streak+1}:S),points:k,lifetimePoints:f,level:h,history:y,activeEffects:p,notifications:m?[...b.notifications,{id:Date.now(),type:"level",msg:m}]:b.notifications})),s()._pushNotification("complete",`+${n} pts â€” Ã—${c.toFixed(1)}`),s()._recalcGlobalStreak(),s()._checkAchievements()},failHabit(i){const o=s(),r=N(),a=o.habits.find(p=>p.id===i);if(!a||o.history[r]?.[i])return;const l=o._getActiveEffects(),n=ce(a,l);let c=[...o.activeEffects];const d=c.findIndex(p=>p.key==="streak_shield"||p.key==="golden_shield");d!==-1&&c.splice(d,1);const f={...o.history,[r]:{...o.history[r]??{},[i]:"failed"}};t(p=>({habits:p.habits.map(y=>y.id===i?{...y,multiplier:n,streak:0}:y),history:f,activeEffects:c})),s()._pushNotification("fail",`PenalizaciÃ³n: Ã—${n.toFixed(1)}`),s()._recalcGlobalStreak()},useItem(i,o=null){const r=s(),a=w[i];if(!a)return;const l=r.inventory.find(c=>c.itemId===i);if(!l||l.qty<1)return;const n=r.inventory.map(c=>c.itemId===i?{...c,qty:c.qty-1}:c).filter(c=>c.qty>0);if(a.effectType==="timed"){const c=new Date;c.setDate(c.getDate()+a.durationDays),t(d=>({inventory:n,activeEffects:[...d.activeEffects,{key:a.effectKey,value:a.effectValue,expiresAt:c.toISOString(),itemName:a.name}]})),s()._pushNotification("item",`${a.icon} ${a.name} activado!`)}else if(a.effectType==="passive")t(c=>({inventory:n,activeEffects:[...c.activeEffects,{key:a.effectKey,value:a.effectValue,itemName:a.name}]})),s()._pushNotification("item",`${a.icon} ${a.name} equipado!`);else if(a.effectType==="instant"){if(a.effectKey==="mult_recovery"&&o)t(c=>({inventory:n,habits:c.habits.map(d=>d.id===o?{...d,multiplier:parseFloat((d.multiplier+a.effectValue).toFixed(1))}:d)}));else if(a.effectKey==="perm_base_mult"&&o)t(c=>({inventory:n,habits:c.habits.map(d=>d.id===o?{...d,baseMultiplier:parseFloat(((d.baseMultiplier??1)+a.effectValue).toFixed(1)),multiplier:parseFloat((d.multiplier+a.effectValue).toFixed(1))}:d)}));else if(a.effectKey==="retroactive_complete"&&o){const c=se(),d=s().habits.find(f=>f.id===o);if(d){const f=Math.round(d.minutes*d.multiplier);t(p=>({inventory:n,points:p.points+f,lifetimePoints:p.lifetimePoints+f,history:{...p.history,[c]:{...p.history[c]??{},[o]:"completed"}},habits:p.habits.map(y=>y.id===o?{...y,streak:y.streak+1}:y)}))}else t({inventory:n})}else t({inventory:n});s()._pushNotification("item",`${a.icon} ${a.name} usado!`)}},grantItem(i){const o=w[i];o&&t(r=>{const a=r.inventory.find(n=>n.itemId===i),l=o.maxStack??99;return a&&a.qty>=l?{}:{inventory:a?r.inventory.map(n=>n.itemId===i?{...n,qty:n.qty+1}:n):[...r.inventory,{itemId:i,qty:1}]}})},_getActiveEffects(){const i=new Date;return s().activeEffects.filter(o=>!o.expiresAt||new Date(o.expiresAt)>i)},_purgeExpiredEffects(){const i=new Date;t(o=>({activeEffects:o.activeEffects.filter(r=>!r.expiresAt||new Date(r.expiresAt)>i)}))},_recalcGlobalStreak(){const{habits:i,history:o}=s();t({globalStreak:de(i,o)})},_checkAchievements(){const i=s(),o=[];M.forEach(r=>{if(!i.unlockedAchievements.includes(r.id))try{r.check(i)&&o.push(r)}catch{}}),o.length>0&&(t(r=>({unlockedAchievements:[...r.unlockedAchievements,...o.map(a=>a.id)]})),o.forEach(r=>{s()._pushNotification("achievement",`ðŸ† LOGRO: ${r.name}`),r.reward&&s().grantItem(r.reward)}))},_pushNotification(i,o){const r=Date.now()+Math.random();t(a=>({notifications:[...a.notifications,{id:r,type:i,msg:o}]})),setTimeout(()=>{t(a=>({notifications:a.notifications.filter(l=>l.id!==r)}))},3500)},dismissNotification(i){t(o=>({notifications:o.notifications.filter(r=>r.id!==i)}))}}),{name:"habit-quest-v1",partialize:t=>({habits:t.habits,level:t.level,points:t.points,lifetimePoints:t.lifetimePoints,history:t.history,globalStreak:t.globalStreak,unlockedAchievements:t.unlockedAchievements,inventory:t.inventory,activeEffects:t.activeEffects})}));function pe({activeTab:t,onTabChange:s}){const i=u(l=>l.level),o=u(l=>l.points),r=u(l=>l._getActiveEffects()),a=[{id:"home",label:"ðŸ  INICIO"},{id:"history",label:"ðŸ“… HISTORIAL"},{id:"items",label:"ðŸŽ’ ITEMS"},{id:"achieve",label:"ðŸ† LOGROS"}];return e.jsxs("header",{style:{background:"#0a0a1e",borderBottom:"2px solid #2a2a6a",boxShadow:"0 3px 0 #000"},children:[e.jsxs("div",{style:{padding:"14px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:10},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:14},children:[e.jsx("div",{style:{fontSize:20},children:"âš”ï¸"}),e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:14,color:"#00ff88",textShadow:"0 0 10px #00ff8888",letterSpacing:"0.1em"},children:["HABIT",e.jsx("span",{style:{color:"#ffd700"},children:"QUEST"})]}),e.jsx("div",{style:{fontSize:7,color:"#4a4a7a",marginTop:3},children:"DOMINA TUS HÃBITOS"})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,flexWrap:"wrap"},children:[r.map((l,n)=>e.jsxs("div",{className:"px-tooltip-wrap",children:[e.jsxs("div",{style:{background:"#14143a",border:"1px solid #00e5ff",padding:"3px 6px",fontSize:7,color:"#00e5ff",display:"flex",alignItems:"center",gap:4},children:[e.jsx("span",{className:"anim-blink",children:"â—†"}),e.jsx("span",{children:l.itemName??l.key})]}),l.expiresAt&&e.jsxs("div",{className:"px-tooltip",children:["Expira: ",new Date(l.expiresAt).toLocaleDateString("es")]})]},n)),e.jsxs("div",{style:{background:"#14143a",border:"2px solid #ffd700",boxShadow:"2px 2px 0 #664400, 0 0 10px #ffd70033",padding:"6px 12px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:7,color:"#4a4a7a",marginBottom:2},children:"NIVEL"}),e.jsx("div",{style:{fontSize:18,color:"#ffd700"},children:i})]}),e.jsxs("div",{style:{background:"#14143a",border:"2px solid #00ff88",boxShadow:"2px 2px 0 #004422, 0 0 10px #00ff8833",padding:"6px 12px",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:7,color:"#4a4a7a",marginBottom:2},children:"PUNTOS"}),e.jsx("div",{style:{fontSize:14,color:"#00ff88"},children:o.toLocaleString()})]})]})]}),e.jsx("nav",{style:{display:"flex",borderTop:"1px solid #1a1a3a",overflowX:"auto"},children:a.map(l=>e.jsx("button",{onClick:()=>s(l.id),style:{flex:"1 1 auto",padding:"10px 14px",background:t===l.id?"#14143a":"transparent",border:"none",borderBottom:t===l.id?"2px solid #00ff88":"2px solid transparent",color:t===l.id?"#00ff88":"#4a4a7a",fontFamily:'"Press Start 2P", monospace',fontSize:7,cursor:"pointer",letterSpacing:"0.05em",transition:"color 0.15s",whiteSpace:"nowrap"},children:l.label},l.id))})]})}function me(){const t=u(n=>n.level),s=u(n=>n.points),i=u(n=>n.lifetimePoints),o=u(n=>n.globalStreak),{threshold:r,pct:a,remaining:l}=ae(t,s);return e.jsxs("div",{className:"pixel-border",style:{background:"#0f0f28",padding:16,marginBottom:16},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12,flexWrap:"wrap",gap:8},children:[e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:7,color:"#4a4a7a"},children:"PROGRESO DE NIVEL"}),e.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:8,marginTop:4},children:[e.jsxs("span",{style:{fontSize:20,color:"#ffd700",textShadow:"0 0 10px #ffd70066"},children:["LV.",t]}),e.jsx("span",{style:{fontSize:8,color:"#2a2a6a"},children:"â†’"}),e.jsxs("span",{style:{fontSize:12,color:"#4a4a7a"},children:["LV.",t+1]})]})]}),e.jsx("div",{style:{display:"flex",gap:16,flexWrap:"wrap"},children:[{label:"ACTUAL",value:s.toLocaleString(),color:"#00ff88"},{label:"META",value:r.toLocaleString(),color:"#e8e8ff"},{label:"FALTAN",value:l.toLocaleString(),color:"#ff6348"}].map(n=>e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:7,color:"#4a4a7a"},children:n.label}),e.jsx("div",{style:{fontSize:11,color:n.color,marginTop:3},children:n.value})]},n.label))})]}),e.jsx("div",{className:"px-progress",style:{marginBottom:6},children:e.jsx("div",{className:"px-progress-fill",style:{width:`${a}%`,background:a>80?"linear-gradient(90deg, #00aa55, #00ff88)":a>40?"linear-gradient(90deg, #0088aa, #00e5ff)":"linear-gradient(90deg, #2244aa, #4466ff)"}})}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:7,color:"#2a2a6a"},children:[e.jsx("span",{children:"0"}),e.jsxs("span",{style:{color:"#4a4a7a"},children:[a,"% COMPLETADO"]}),e.jsx("span",{children:r.toLocaleString()})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gap:8,marginTop:14,borderTop:"1px solid #1a1a3a",paddingTop:12},children:[{label:"PTS TOTALES",value:i.toLocaleString(),color:"#b44fff"},{label:"RACHA GLOBAL",value:o>0?`ðŸ”¥${o}d`:"â€”",color:"#ff6348"},{label:"MAX NIVEL",value:`${I.length}+`,color:"#4a4a7a"}].map(n=>e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:7,color:"#4a4a7a",marginBottom:4},children:n.label}),e.jsx("div",{style:{fontSize:10,color:n.color},children:n.value})]},n.label))})]})}function xe({habit:t}){const s=u(x=>x.history),i=u(x=>x.inventory),o=u(x=>x.completeHabit),r=u(x=>x.failHabit),a=u(x=>x.removeHabit),l=u(x=>x.useItem),n=u(x=>x._getActiveEffects()),[c,d]=A.useState(!1),[f,p]=A.useState(!1),y=N(),v=s[y]?.[t.id],h=v==="completed",k=v==="failed",m=h||k,b=$(t,n),S=Math.min(99,parseFloat((t.multiplier+.2).toFixed(1))),_=i.filter(x=>{const E=w[x.itemId];return E&&["mult_recovery","perm_base_mult","retroactive_complete"].includes(E.effectKey)}),g=t.multiplier>=3?"#ffd700":t.multiplier>=2?"#00e5ff":t.multiplier>=1.5?"#00ff88":"#e8e8ff";function j(x){l(x,t.id),d(!1)}return e.jsx("div",{className:"anim-slide-in",style:{background:"#0f0f28",border:`2px solid ${h?"#00ff88":k?"#ff4757":"#2a2a6a"}`,boxShadow:h?"3px 3px 0 #004422":k?"3px 3px 0 #440011":"3px 3px 0 #000",padding:14,marginBottom:10,position:"relative"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12,flexWrap:"wrap"},children:[e.jsx("div",{style:{fontSize:28,lineHeight:1},children:t.emoji}),e.jsxs("div",{style:{flex:1,minWidth:140},children:[e.jsx("div",{style:{fontSize:10,color:"#e8e8ff",marginBottom:4},children:t.name}),e.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginBottom:6},children:[e.jsxs("span",{className:"px-badge",style:{color:"#4a4a7a",borderColor:"#2a2a6a"},children:[t.minutes,"MIN"]}),e.jsx("span",{className:"px-badge",style:{color:"#4a4a7a",borderColor:"#2a2a6a"},children:U[t.periodicity]}),t.streak>0&&e.jsxs("span",{className:"px-badge",style:{color:"#ff6348",borderColor:"#662200"},children:["ðŸ”¥",t.streak,"D"]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4},children:[e.jsx("span",{style:{fontSize:7,color:"#4a4a7a",minWidth:30},children:"MULT"}),e.jsx("div",{style:{flex:1,height:8,background:"#0a0a1a",border:"1px solid #1a1a3a",overflow:"hidden"},children:e.jsx("div",{style:{width:`${Math.min(100,(t.multiplier-1)/4*100)}%`,height:"100%",background:g,transition:"width 0.3s"}})}),e.jsxs("span",{style:{fontSize:9,color:g,minWidth:36,textAlign:"right"},children:["Ã—",t.multiplier.toFixed(1)]})]}),!m&&e.jsxs("div",{style:{fontSize:7,color:"#4a4a7a"},children:["Si completas: ",e.jsxs("span",{style:{color:"#00ff88"},children:["+",b," pts"]})," â€” mult â†’ ",e.jsxs("span",{style:{color:g},children:["Ã—",S]})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6,alignItems:"flex-end"},children:[m?e.jsx("div",{style:{padding:"8px 12px",fontSize:8,color:h?"#00ff88":"#ff4757",border:`2px solid ${h?"#00ff88":"#ff4757"}`,background:h?"#003322":"#330011"},children:h?"âœ” COMPLETADO":"âœ– FALLADO"}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>o(t.id),className:"px-btn px-btn-green",style:{fontSize:8},children:"âœ” HECHO"}),e.jsx("button",{onClick:()=>r(t.id),className:"px-btn px-btn-red",style:{fontSize:8},children:"âœ– FALLO"})]}),_.length>0&&e.jsxs("div",{style:{position:"relative"},children:[e.jsx("button",{onClick:()=>d(x=>!x),className:"px-btn px-btn-cyan",style:{fontSize:7},children:"ðŸŽ’ ITEM"}),c&&e.jsxs("div",{style:{position:"absolute",right:0,top:"100%",marginTop:4,background:"#14143a",border:"2px solid #2a2a6a",boxShadow:"3px 3px 0 #000",zIndex:10,minWidth:200},children:[_.map(x=>{const E=w[x.itemId];return e.jsxs("button",{onClick:()=>j(x.itemId),style:{display:"flex",alignItems:"center",gap:8,width:"100%",padding:"8px 12px",background:"transparent",border:"none",borderBottom:"1px solid #1a1a3a",cursor:"pointer",color:"#e8e8ff",fontFamily:'"Press Start 2P", monospace',fontSize:7,textAlign:"left"},onMouseEnter:z=>z.currentTarget.style.background="#1a1a4a",onMouseLeave:z=>z.currentTarget.style.background="transparent",children:[e.jsx("span",{children:E.icon}),e.jsx("span",{children:E.name}),e.jsxs("span",{style:{marginLeft:"auto",color:"#4a4a7a"},children:["Ã—",x.qty]})]},x.itemId)}),e.jsx("button",{onClick:()=>d(!1),style:{display:"block",width:"100%",padding:"6px",background:"transparent",border:"none",color:"#4a4a7a",cursor:"pointer",fontSize:7,fontFamily:'"Press Start 2P", monospace'},children:"CERRAR"})]})]}),f?e.jsxs("div",{style:{display:"flex",gap:4},children:[e.jsx("button",{onClick:()=>a(t.id),className:"px-btn px-btn-red",style:{fontSize:7,padding:"4px 8px"},children:"SÃ"}),e.jsx("button",{onClick:()=>p(!1),className:"px-btn px-btn-gray",style:{fontSize:7,padding:"4px 8px"},children:"NO"})]}):e.jsx("button",{onClick:()=>p(!0),className:"px-btn px-btn-gray",style:{fontSize:7,padding:"4px 8px"},children:"ðŸ—‘"})]})]})})}function ue({onClose:t}){const s=u(n=>n.addHabit),[i,o]=A.useState({name:"",minutes:20,periodicity:"daily",emoji:"ðŸŽ¯"}),[r,a]=A.useState("");function l(){if(!i.name.trim()){a("Â¡EL NOMBRE ES OBLIGATORIO!");return}if(i.minutes<1){a("Â¡MÃNIMO 1 MINUTO!");return}s(i),t()}return e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:500,padding:16},onClick:n=>n.target===n.currentTarget&&t(),children:e.jsxs("div",{className:"anim-fade-in pixel-border",style:{background:"#0f0f28",padding:24,width:"100%",maxWidth:420},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[e.jsx("div",{style:{fontSize:11,color:"#00e5ff"},children:"+ NUEVO HÃBITO"}),e.jsx("button",{onClick:t,className:"px-btn px-btn-gray",style:{padding:"4px 8px",fontSize:10},children:"âœ•"})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("label",{style:{fontSize:7,color:"#4a4a7a",display:"block",marginBottom:8},children:"ICONO"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:fe.map(n=>e.jsx("button",{onClick:()=>o(c=>({...c,emoji:n})),style:{width:36,height:36,fontSize:18,background:i.emoji===n?"#14143a":"#0a0a1a",border:`2px solid ${i.emoji===n?"#00e5ff":"#2a2a6a"}`,boxShadow:i.emoji===n?"2px 2px 0 #004455":"2px 2px 0 #000",cursor:"pointer"},children:n},n))})]}),e.jsxs("div",{style:{marginBottom:14},children:[e.jsx("label",{style:{fontSize:7,color:"#4a4a7a",display:"block",marginBottom:6},children:"NOMBRE"}),e.jsx("input",{className:"px-input",value:i.name,onChange:n=>o(c=>({...c,name:n.target.value})),placeholder:"Ej: Leer, Correr, Meditar...",maxLength:40})]}),e.jsxs("div",{style:{marginBottom:14},children:[e.jsxs("label",{style:{fontSize:7,color:"#4a4a7a",display:"block",marginBottom:6},children:["DURACIÃ“N (MINUTOS) â€” ",e.jsxs("span",{style:{color:"#00ff88"},children:[i.minutes," pts base"]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("input",{className:"px-input",type:"number",min:1,max:480,value:i.minutes,onChange:n=>o(c=>({...c,minutes:Number(n.target.value)})),style:{width:100}}),e.jsxs("div",{style:{fontSize:7,color:"#4a4a7a",lineHeight:1.8},children:["= ",i.minutes," pts Ã— multiplicador"]})]}),e.jsx("div",{style:{display:"flex",gap:6,marginTop:8,flexWrap:"wrap"},children:[10,15,20,30,45,60].map(n=>e.jsxs("button",{onClick:()=>o(c=>({...c,minutes:n})),className:"px-btn px-btn-gray",style:{padding:"4px 8px",fontSize:7,background:i.minutes===n?"#14143a":"#0a0a1a",borderColor:i.minutes===n?"#00e5ff":"#2a2a6a"},children:[n,"m"]},n))})]}),e.jsxs("div",{style:{marginBottom:20},children:[e.jsx("label",{style:{fontSize:7,color:"#4a4a7a",display:"block",marginBottom:6},children:"PERIODICIDAD"}),e.jsx("select",{className:"px-input",value:i.periodicity,onChange:n=>o(c=>({...c,periodicity:n.target.value})),children:Object.entries(U).map(([n,c])=>e.jsx("option",{value:n,children:c},n))})]}),e.jsxs("div",{style:{background:"#14143a",border:"1px solid #2a2a6a",padding:12,marginBottom:16,fontSize:7,color:"#4a4a7a",lineHeight:2},children:[e.jsx("div",{style:{color:"#e8e8ff",marginBottom:4},children:"VISTA PREVIA:"}),e.jsxs("div",{children:[i.emoji," ",e.jsx("span",{style:{color:"#e8e8ff"},children:i.name||"???"})]}),e.jsxs("div",{children:["DÃ­a 1: ",i.minutes,"min Ã— 1.0 = ",e.jsxs("span",{style:{color:"#00ff88"},children:[i.minutes," pts"]})]}),e.jsxs("div",{children:["DÃ­a 2: ",i.minutes,"min Ã— 1.2 = ",e.jsxs("span",{style:{color:"#00ff88"},children:[Math.round(i.minutes*1.2)," pts"]})]}),e.jsxs("div",{children:["DÃ­a 3: ",i.minutes,"min Ã— 1.4 = ",e.jsxs("span",{style:{color:"#00ff88"},children:[Math.round(i.minutes*1.4)," pts"]})]})]}),r&&e.jsx("div",{style:{color:"#ff4757",fontSize:7,marginBottom:12},children:r}),e.jsxs("div",{style:{display:"flex",gap:10},children:[e.jsx("button",{onClick:t,className:"px-btn px-btn-gray",style:{flex:1},children:"CANCELAR"}),e.jsx("button",{onClick:l,className:"px-btn px-btn-green",style:{flex:2},children:"âœš CREAR HÃBITO"})]})]})})}function ye(){const t=u(f=>f.habits),s=u(f=>f.history),[i,o]=A.useState(!1),r=N(),a=s[r]??{},l=t.filter(f=>a[f.id]==="completed").length,n=t.filter(f=>!a[f.id]).length,d=["DOM","LUN","MAR","MIÃ‰","JUE","VIE","SÃB"][new Date().getDay()];return e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:14,flexWrap:"wrap",gap:8},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:7,color:"#4a4a7a"},children:["HOY â€” ",d," ",r]}),e.jsxs("div",{style:{fontSize:10,color:"#e8e8ff",marginTop:4},children:[l,"/",t.length," ",e.jsx("span",{style:{color:"#00ff88"},children:"COMPLETADOS"})]})]}),e.jsx("button",{onClick:()=>o(!0),className:"px-btn px-btn-cyan",children:"âœš NUEVO HÃBITO"})]}),t.length>0&&e.jsx("div",{className:"px-progress",style:{marginBottom:14},children:e.jsx("div",{className:"px-progress-fill",style:{width:`${Math.round(l/t.length*100)}%`,background:"linear-gradient(90deg, #00aa55, #00ff88)"}})}),t.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",border:"2px dashed #2a2a6a",color:"#2a2a6a",fontSize:8,lineHeight:2.5},children:[e.jsx("div",{style:{fontSize:32,marginBottom:12},children:"ðŸŒ±"}),e.jsx("div",{children:"NO TIENES HÃBITOS AÃšN"}),e.jsx("div",{style:{fontSize:7,marginTop:6},children:"CREA TU PRIMER HÃBITO PARA COMENZAR"})]}):t.map(f=>e.jsx(xe,{habit:f},f.id)),n>0&&t.length>0&&e.jsxs("div",{style:{textAlign:"center",fontSize:7,color:"#4a4a7a",marginTop:8},children:[e.jsx("span",{className:"anim-blink",children:"â–¶"})," ",n," HÃBITO",n!==1?"S":""," PENDIENTE",n!==1?"S":""]}),i&&e.jsx(ue,{onClose:()=>o(!1)})]})}const D={completed:{bg:"#003322",border:"#00ff88",symbol:"âœ”",color:"#00ff88"},failed:{bg:"#330011",border:"#ff4757",symbol:"âœ–",color:"#ff4757"},none:{bg:"#0a0a1a",border:"#1a1a3a",symbol:"Â·",color:"#2a2a6a"}};function he(){const t=u(r=>r.habits),s=u(r=>r.history),i=21,o=Array.from({length:i},(r,a)=>T(i-1-a));return t.length===0?e.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#2a2a6a",fontSize:8},children:"SIN HÃBITOS â€” CREA UNO PRIMERO"}):e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:9,color:"#00e5ff",marginBottom:16},children:["HISTORIAL â€” ÃšLTIMOS ",i," DÃAS"]}),e.jsx("div",{style:{display:"flex",gap:16,marginBottom:14,flexWrap:"wrap"},children:Object.entries(D).map(([r,a])=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,fontSize:7,color:a.color},children:[e.jsx("div",{style:{width:12,height:12,background:a.bg,border:`1px solid ${a.border}`}}),r==="completed"?"COMPLETADO":r==="failed"?"FALLADO":"SIN DATO"]},r))}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:480},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{textAlign:"left",fontSize:7,color:"#4a4a7a",padding:"4px 8px 8px",minWidth:100},children:"HÃBITO"}),o.map(r=>{const a=r.slice(5),l=r===T(0);return e.jsx("th",{style:{textAlign:"center",fontSize:6,padding:"0 2px 8px",color:l?"#00e5ff":"#2a2a6a",fontFamily:'"Press Start 2P", monospace',fontWeight:"normal"},children:a},r)})]})}),e.jsx("tbody",{children:t.map(r=>e.jsxs("tr",{children:[e.jsxs("td",{style:{padding:"4px 8px",fontSize:8,borderRight:"1px solid #1a1a3a",whiteSpace:"nowrap"},children:[r.emoji," ",r.name.length>12?r.name.slice(0,12)+"â€¦":r.name]}),o.map(a=>{const l=s[a]?.[r.id]??"none",n=D[l]??D.none,c=a===T(0);return e.jsx("td",{style:{padding:"3px 2px",textAlign:"center"},children:e.jsx("div",{style:{width:20,height:20,margin:"0 auto",background:n.bg,border:`1px solid ${c&&l==="none"?"#2a2a6a":n.border}`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:9,color:n.color},children:n.symbol})},a)})]},r.id))})]})}),e.jsx("div",{style:{marginTop:20,display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px,1fr))",gap:10},children:t.map(r=>{const a=o.filter(c=>s[c]?.[r.id]==="completed").length,l=o.filter(c=>s[c]?.[r.id]==="failed").length,n=a+l>0?Math.round(a/(a+l)*100):0;return e.jsxs("div",{className:"pixel-border",style:{background:"#0f0f28",padding:10},children:[e.jsxs("div",{style:{fontSize:8,marginBottom:6},children:[r.emoji," ",r.name.slice(0,10),r.name.length>10?"â€¦":""]}),e.jsxs("div",{style:{fontSize:7,color:"#4a4a7a",lineHeight:2},children:[e.jsxs("div",{children:["âœ” ",e.jsx("span",{style:{color:"#00ff88"},children:a})," completados"]}),e.jsxs("div",{children:["âœ– ",e.jsx("span",{style:{color:"#ff4757"},children:l})," fallados"]}),e.jsxs("div",{children:["ðŸ“Š ",e.jsxs("span",{style:{color:"#ffd700"},children:[n,"%"]})," tasa de Ã©xito"]})]})]},r.id)})})]})}function ge(){const t=u(a=>a.unlockedAchievements);u(a=>a.habits);const s=new Set(t),i=[...M].sort((a,l)=>{const n=s.has(a.id)?1:0,c=s.has(l.id)?1:0;if(n!==c)return c-n;const d={legendary:0,epic:1,rare:2,common:3};return d[a.rarity]-d[l.rarity]}),o=t.length,r=M.length;return e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16,flexWrap:"wrap",gap:8},children:[e.jsx("div",{style:{fontSize:9,color:"#ffd700"},children:"ðŸ† LOGROS"}),e.jsxs("div",{style:{fontSize:8,color:"#4a4a7a"},children:[e.jsx("span",{style:{color:"#ffd700"},children:o})," / ",r," DESBLOQUEADOS"]})]}),e.jsx("div",{className:"px-progress",style:{marginBottom:16},children:e.jsx("div",{className:"px-progress-fill",style:{width:`${Math.round(o/r*100)}%`,background:"linear-gradient(90deg, #664400, #ffd700)"}})}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px,1fr))",gap:10},children:i.map(a=>{const l=s.has(a.id),n=ne[a.rarity];return e.jsxs("div",{style:{background:l?"#14143a":"#0a0a1a",border:`2px solid ${l?n.border:"#1a1a3a"}`,boxShadow:l?`3px 3px 0 #000, 0 0 8px ${n.border}44`:"2px 2px 0 #000",padding:12,opacity:l?1:.4,transition:"opacity 0.2s"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8},children:[e.jsx("div",{style:{fontSize:24,filter:l?"none":"grayscale(1)"},children:a.icon}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:8,color:l?"#e8e8ff":"#4a4a7a",marginBottom:3},children:a.name}),e.jsx("div",{style:{fontSize:6,color:n.color,border:`1px solid ${n.border}`,padding:"1px 4px",display:"inline-block"},children:n.label})]})]}),e.jsx("div",{style:{fontSize:7,color:"#4a4a7a",lineHeight:1.8},children:a.desc}),a.reward&&l&&e.jsx("div",{style:{marginTop:8,fontSize:7,color:"#ffd700"},children:"ðŸŽ RECOMPENSA OBTENIDA"}),a.reward&&!l&&e.jsx("div",{style:{marginTop:8,fontSize:7,color:"#2a2a4a"},children:"ðŸŽ RECOMPENSA DISPONIBLE"})]},a.id)})})]})}function be(){const t=u(n=>n.inventory),s=u(n=>n._getActiveEffects()),i=u(n=>n.useItem),o=u(n=>n.habits),r=Object.values(w);new Set(t.map(n=>n.itemId));const a=["mult_recovery","perm_base_mult","retroactive_complete"];function l(n){const c=w[n];if(a.includes(c?.effectKey)){if(o.length===0){alert("No tienes hÃ¡bitos");return}const d=o[0]?.id;i(n,d)}else i(n)}return e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:9,color:"#00e5ff",marginBottom:8},children:"ðŸŽ’ INVENTARIO"}),e.jsx("div",{style:{fontSize:7,color:"#4a4a7a",marginBottom:16,lineHeight:2},children:"Los objetos se obtienen al desbloquear logros. Ãšsalos estratÃ©gicamente para mantener tus rachas."}),s.length>0&&e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("div",{style:{fontSize:7,color:"#ffd700",marginBottom:8},children:"EFECTOS ACTIVOS"}),e.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:s.map((n,c)=>e.jsxs("div",{style:{background:"#14143a",border:"2px solid #ffd700",boxShadow:"2px 2px 0 #664400",padding:"6px 10px",fontSize:7,color:"#ffd700",display:"flex",gap:8,alignItems:"center"},children:[e.jsx("span",{className:"anim-blink",children:"â—†"}),e.jsxs("div",{children:[e.jsx("div",{children:n.itemName??n.key}),n.expiresAt&&e.jsxs("div",{style:{color:"#4a4a7a",fontSize:6,marginTop:2},children:["Expira ",new Date(n.expiresAt).toLocaleDateString("es")]})]})]},c))})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px,1fr))",gap:10},children:r.map(n=>{const d=t.find(y=>y.itemId===n.id)?.qty??0,f=d>0,p=oe[n.rarity];return e.jsxs("div",{style:{background:f?"#0f0f28":"#0a0a1a",border:`2px solid ${f?p.color:"#1a1a3a"}`,boxShadow:f?`3px 3px 0 #000, 0 0 6px ${p.color}33`:"2px 2px 0 #000",padding:12,opacity:f?1:.35,position:"relative"},children:[f&&e.jsx("div",{style:{position:"absolute",top:-8,right:-8,background:p.color==="#ffd700"?"#332200":"#0f0f28",border:`2px solid ${p.color}`,color:p.color,fontSize:8,width:22,height:22,display:"flex",alignItems:"center",justifyContent:"center"},children:d}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8},children:[e.jsx("div",{style:{fontSize:26,filter:f?"none":"grayscale(1)"},children:n.icon}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:8,color:f?"#e8e8ff":"#4a4a7a",marginBottom:3},children:n.name}),e.jsx("div",{style:{fontSize:6,color:p.color,border:`1px solid ${p.color}44`,padding:"1px 4px",display:"inline-block"},children:p.label})]})]}),e.jsx("div",{style:{fontSize:7,color:"#4a4a7a",lineHeight:1.8,marginBottom:f?10:0},children:n.desc}),f&&e.jsx("button",{onClick:()=>l(n.id),className:"px-btn px-btn-cyan",style:{width:"100%",fontSize:7,marginTop:4},children:"â–¶ USAR"}),!f&&e.jsx("div",{style:{fontSize:6,color:"#2a2a4a",marginTop:6},children:"OBTÃ‰N DESBLOQUEANDO LOGROS"})]},n.id)})})]})}const P={complete:{border:"#00ff88",icon:"âœ”"},fail:{border:"#ff4757",icon:"âœ–"},achievement:{border:"#ffd700",icon:"â˜…"},level:{border:"#b44fff",icon:"â–²"},item:{border:"#00e5ff",icon:"â—†"}};function ve(){const t=u(i=>i.notifications),s=u(i=>i.dismissNotification);return t.length===0?null:e.jsx("div",{style:{position:"fixed",bottom:24,right:24,zIndex:1e3,display:"flex",flexDirection:"column",gap:8},children:t.map(i=>{const o=P[i.type]??P.complete;return e.jsxs("div",{onClick:()=>s(i.id),className:"anim-slide-in",style:{background:"#0f0f28",border:`2px solid ${o.border}`,boxShadow:`3px 3px 0 #000, 0 0 12px ${o.border}44`,padding:"10px 14px",display:"flex",alignItems:"center",gap:10,cursor:"pointer",minWidth:220,maxWidth:300},children:[e.jsx("span",{style:{color:o.border,fontSize:14,fontFamily:"monospace"},children:o.icon}),e.jsx("span",{style:{fontSize:7,color:"#e8e8ff",lineHeight:1.6,wordBreak:"break-word"},children:i.msg})]},i.id)})})}function Se(){const[t,s]=A.useState("home");return e.jsxs("div",{style:{minHeight:"100vh",background:"#08081a",display:"flex",flexDirection:"column"},children:[e.jsx(pe,{activeTab:t,onTabChange:s}),e.jsxs("main",{style:{flex:1,maxWidth:900,width:"100%",margin:"0 auto",padding:"20px 16px"},children:[t==="home"&&e.jsxs("div",{className:"anim-fade-in",children:[e.jsx(me,{}),e.jsx(ye,{})]}),t==="history"&&e.jsx("div",{className:"anim-fade-in",children:e.jsx(he,{})}),t==="items"&&e.jsx("div",{className:"anim-fade-in",children:e.jsx(be,{})}),t==="achieve"&&e.jsx("div",{className:"anim-fade-in",children:e.jsx(ge,{})})]}),e.jsxs("footer",{style:{borderTop:"2px solid #1a1a3a",padding:"12px 20px",textAlign:"center",fontSize:6,color:"#2a2a4a",letterSpacing:"0.1em"},children:["HABITQUEST v0.1 â€” MANTÃ‰N TUS RACHAS â€” SUBE DE NIVEL",e.jsx("span",{className:"anim-blink",style:{marginLeft:8},children:"â–ˆ"})]}),e.jsx(ve,{})]})}export{Se as default};
